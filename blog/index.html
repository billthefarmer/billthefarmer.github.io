<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta property="og:url" content="https://billthefarmer.github.io/blog/">
  <meta property="og:site_name" content="Bill Farmer">
  <meta property="og:title" content="Bill Farmer">
  <meta property="og:description" content="Random thoughts on random subjects">
  <meta property="og:locale" content="en_gb">
  <meta property="og:type" content="website">


  <meta itemprop="name" content="Bill Farmer">
  <meta itemprop="description" content="Random thoughts on random subjects">
  <meta itemprop="datePublished" content="2024-03-02T13:52:23+00:00">
  <meta itemprop="dateModified" content="2024-03-02T13:52:23+00:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Bill Farmer">
  <meta name="twitter:description" content="Random thoughts on random subjects">






<meta name="generator" content="Hugo 0.153.0">


    <base href="https://billthefarmer.github.io/blog/">
    <link rel="canonical" href="https://billthefarmer.github.io/blog/">
    <title>Bill Farmer</title>

    <!-- CSS -->
    <link href="https://billthefarmer.github.io/blog/css/app.css" rel="stylesheet">
    
    <!-- RSS 2.0 feed -->
      <link rel="alternate" type="application/rss+xml" href="https://billthefarmer.github.io/blog/index.xml" title="Bill Farmer" />
    

    

<style>
.callout.large {
    background-image: url(https://billthefarmer.github.io/blog/images/2013/12/cropped-P1010089.jpg);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}
.callout.large a, .callout.large p {
    color: white;
}
pre {
    margin-top: 16px;
    margin-bottom: 16px;
}
code {
    padding: 0;
    border: 0;
    background-color: #fff;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    font-weight: normal;
    color: #0a0a0a;
}
table {
    width: auto !important;
}
</style>




  </head>
  <body>

    <header class="nav">
      <div class="top-bar">
        <div class="row column">
          <div class="top-bar-left">
            <ul class="menu">
              <li class="active"><a href="https://billthefarmer.github.io/blog/">
                Home
              </a></li>
              
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/">
                    Categories
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/travel/">
                    Travel
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/hacking/">
                    Hacking
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/recipes/">
                    Recipes
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/diy/">
                    DIY
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/categories/electronics/">
                    Electronics
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/index/">
                    Index
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/morris-o-meter/">
                    Morris-o-meter
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/about/">
                    About
                  </a></li>
                
                  <li><a href="https://billthefarmer.github.io/blog/test-o-meter/">
                    Test-o-meter
                  </a></li>
                
              
            </ul>
          </div>
        </div>
      </div>
    </header>

    <header class="blog-header">
      <div class="callout large">
        <div class="row column text-center">
          <h1>
            <a href="https://billthefarmer.github.io/blog/" rel="home">Bill Farmer</a>
          </h1>
          
            <p>
              Random thoughts on random subjects
            </p>
          
        </div>
      </div>
    </header>

    <main>
      <div class="row" id="content">
        <div class="medium-8 columns">
          




  




  

<div class="blog-post">
  <h3>
    <a href="https://billthefarmer.github.io/blog/beach-villas/">Beach Villas</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2024-03-02T13:52:23Z">
        Sat Mar 2, 2024
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/travel">
        Travel
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>On a variety of holidays we have come across a wide range of
interesting development opportunities.</p>
<p><img src="images/2024/03/Irish.jpg" alt="Cahir"></p>
<p>Irish rural retreat near Cahir, Ireland. Some rethatching required.</p>
<p><img src="images/2024/03/Welsh.jpg" alt="Caerphilly"></p>
<p>Pretty Welsh country cottage near Caerphilly, UK. Natural slate roof.</p>
<p><img src="images/2024/03/Zahora.jpg" alt="Zahora"></p>
<p>On the beach at Zahora, Costa de Luz, Spain. This has since been
turned into a beach bar. The lighthouse at Trafalgar can be seen in
the distance.</p>
<p><img src="images/2024/03/Olveira.jpg" alt="Olveira"></p>
<p>Country cottage near Olveira, Galicia, Spain. Sturdy chimney.</p>
  </p>
  <a href='https://billthefarmer.github.io/blog/beach-villas/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="https://billthefarmer.github.io/blog/flutter-search-widget/">Flutter app bar search widget</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2024-02-06T08:37:04Z">
        Tue Feb 6, 2024
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>As an exercise I decided to reimplement my <a href="https://github.com/billthefarmer/buses">Buses</a> app in
flutter. To do this I need an open street map library, a beautiful
soup library, a location library, an OS ref library, and a search
widget. All of these are available in <a href="https://pub.dev/">pub.dev</a>, except a suitable
search widget. All implementations of <a href="https://api.flutter.dev/flutter/material/SearchBar-class.html">SearchBar</a> in the docs include an
annoying dropdown suggestions feature, which appears to be mandatory.</p>
<p><img src="images/2024/02/BusApp.png" alt="BusApp"></p>
<p>However it is possible to take the SearchBar and include it in an
<a href="https://api.flutter.dev/flutter/material/AppBar-class.html">AppBar</a>, change the icons and end up with something which looks
and acts very similarly to an android search widget. To do this, add
code to the actions of the app bar which either shows an icon button
or the search bar, controlled by a boolean which is set by pressing
the search button. The search bar is wrapped by an <a href="https://api.flutter.dev/flutter/widgets/Expanded-class.html">Expanded</a>
widget to stop it overflowing the display. The search bar has a
leading button which dismisses it, a conditional trailing button to
clear the search field and a button to do the search.</p>
  </p>
  <a href='https://billthefarmer.github.io/blog/flutter-search-widget/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="https://billthefarmer.github.io/blog/android-navigation-menu/">Android Navigation Menu</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2023-09-06T13:46:00&#43;01:00">
        Wed Sep 6, 2023
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Android versions from android 5 use a <a href="https://developer.android.com/reference/android/widget/Toolbar?hl=en">Toolbar</a> as the
<a href="https://developer.android.com/reference/android/app/ActionBar?hl=en">ActionBar</a>, but there appears to be no obvious API access.</p>
<p>However, by traversing the view hierarchy, it can be found and used to
set up app navigation.</p>
<p><img src="images/2023/09/Navigation.png" alt="Navigation"></p>
<p>Create a recursive function to traverse the views and find the toolbar.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// findToolbar</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span>Toolbar<span style="color:#bbb"> </span><span style="color:#00a000">findToolbar</span>(ViewGroup<span style="color:#bbb"> </span>group)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>View<span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>group.<span style="color:#b44">getChildCount</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#666">&lt;</span><span style="color:#bbb"> </span>count;<span style="color:#bbb"> </span>i<span style="color:#666">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>View<span style="color:#bbb"> </span>view<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>group.<span style="color:#b44">getChildAt</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(view<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">instanceof</span><span style="color:#bbb"> </span>Toolbar)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span>(Toolbar)<span style="color:#bbb"> </span>view;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(view<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">instanceof</span><span style="color:#bbb"> </span>ViewGroup)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>findToolbar((ViewGroup)<span style="color:#bbb"> </span>view);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(result<span style="color:#bbb"> </span><span style="color:#666">!=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#a2f;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span>(Toolbar)<span style="color:#bbb"> </span>result;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>Having written this hack, I then discovered a more efficient way using
built in functionality.</p>
  </p>
  <a href='https://billthefarmer.github.io/blog/android-navigation-menu/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="https://billthefarmer.github.io/blog/update-widget/">Update App Widget</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2023-07-29T19:33:44&#43;01:00">
        Sat Jul 29, 2023
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Android app widgets normally can be set up to update periodically, but
not repeatedly for a short period. For a <a href="https://github.com/billthefarmer/buses">bus times app</a> I need the
widget to update every 30 seconds for about 5 minutes.</p>
<p>I already had a <a href="https://developer.android.com/reference/android/app/Service">Service</a> set up to update the widget from a
suitable web site and using a <a href="https://developer.android.com/reference/android/os/Handler">Handler</a> to reset the progress bar
if the background update process failed.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>RESET_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>5<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>REPEAT_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>30<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>STOP_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>5<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>60<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span>Handler<span style="color:#bbb"> </span>handler;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">boolean</span><span style="color:#bbb"> </span>stopUpdate;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// onCreate</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#00a000">onCreate</span>()<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#080;font-style:italic">// Get handler</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>handler<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Handler(Looper.<span style="color:#b44">getMainLooper</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(BuildConfig.<span style="color:#b44">DEBUG</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Log.<span style="color:#b44">d</span>(TAG,<span style="color:#bbb"> </span><span style="color:#b44">&#34;onCreate &#34;</span><span style="color:#bbb"> </span><span style="color:#666">+</span><span style="color:#bbb"> </span>handler);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>Define the various delays and get a handler in the <code>onCreate()</code> method.</p>
  </p>
  <a href='https://billthefarmer.github.io/blog/update-widget/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="https://billthefarmer.github.io/blog/turkey-cabbage-wraps/">Turkey Cabbage Wraps</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2022-07-09T18:26:43&#43;01:00">
        Sat Jul 9, 2022
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/recipes">
        Recipes
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Our neighbour has been giving us large kale–like leaves from his
purple sprouting broccoli plants, which are quite tasty. I decided to
look up what could be done with large cabbage leaves and decided on
wraps with a tomato sauce over the top.</p>
<h2 id="ingredients">Ingredients</h2>
<ul>
<li>250g minced turkey thigh</li>
<li>An onion, finely chopped</li>
<li>A garlic clove, crushed</li>
<li>A carrot, grated</li>
<li>50g porridge oats</li>
<li>Small stick of celery, chopped</li>
<li>A mushroom, chopped finely</li>
<li>An egg</li>
<li>Black pepper</li>
<li>Olive oil</li>
<li>Enough cabbage leaves for six wraps</li>
<li>A jar of pasta sauce or tin of chopped tomatoes</li>
<li>Grated cheese for topping</li>
</ul>
<h2 id="method">Method</h2>
<ol>
<li>Cut the tough stems out of the leaves and cook them gently in just
enough water until limp enough to wrap around the ingredients.</li>
<li>Put some olive oil, the onions, garlic, carrot, celery and
mushrooms in a medium skillet and cook gently, covered, until
looking done, then add the oats and cook a bit more.</li>
<li>In a large bowl crack the egg, grate over some black pepper, and
whip until combined.</li>
<li>Add the turkey, wait for the veg mixture to cool down, then add it
to the bowl.</li>
<li>Mix it all up until well combined.</li>
<li>Lay out each leaf on a chopping board or similar, put a large
heaped tablespoon of turkey mixture on each one, and roll it
up. If the leaves are wide enough, tuck the sides in before
rolling. You may need two leaves for each wrap if they are long
narrow ones. You should end up with six wraps.</li>
<li>Place the wraps in a suitable casserole dish and cover with sauce
or chopped tomatoes. Grate some cheese over the top.</li>
<li>Cook in a medium oven for about 40 minutes until the sauce is
bubbling and the cheese is melted and browning.</li>
</ol>
  </p>
  <a href='https://billthefarmer.github.io/blog/turkey-cabbage-wraps/'>Read more →</a>
  <hr>
</div>




  <div>
    
    
    
      <a class="button disabled" href="#" aria-disabled="true">Previous page</a>
      <a class="button" href="/blog/page/2/">Next page</a>
    
    <hr>
  </div>



        </div>
          <div class="medium-3 columns" data-sticky-container>
  <div class="sticky" data-sticky data-anchor="content">

  

  

  <h4>Recent Posts</h4>
  <ul>
    
      <li><a href="/blog/beach-villas/">
        Beach Villas
      </a></li>
    
      <li><a href="/blog/flutter-search-widget/">
        Flutter app bar search widget
      </a></li>
    
      <li><a href="/blog/android-navigation-menu/">
        Android Navigation Menu
      </a></li>
    
      <li><a href="/blog/update-widget/">
        Update App Widget
      </a></li>
    
      <li><a href="/blog/turkey-cabbage-wraps/">
        Turkey Cabbage Wraps
      </a></li>
    
      <li><a href="/blog/create-word-grid/">
        Create a Word Grid
      </a></li>
    
      <li><a href="/blog/read-paywalled-articles/">
        Read Paywalled Newspaper Articles
      </a></li>
    
      <li><a href="/blog/risotto-milanese/">
        Risotto Milanese
      </a></li>
    
      <li><a href="/blog/android-flutter/">
        Android Flutter
      </a></li>
    
      <li><a href="/blog/android-kotlin/">
        Android Kotlin
      </a></li>
    
  </ul>

  
    <h4>Links</h4>
    <ul>
      
        <li><a href="https://github.com/billthefarmer">
          Github
        </a></li>
      
        <li><a href="https://gitlab.com/williamjfarmer">
          Gitlab
        </a></li>
      
        <li><a href="http://billthefarmer.github.io">
          Home
        </a></li>
      
    </ul>
  

  </div>
</div>

      </div>
    </main>

    <footer class="blog-footer">
      <div class="row column">
        <p>
          
          Copyright © 2025 Bill Farmer
          
        </p>
        <p>
          <a href="https://billthefarmer.github.io/blog/#">Back to top</a>
        </p>
      </div>
    </footer>

  <foot>

    <script src="https://billthefarmer.github.io/blog/js/app.js"></script>

  </foot>
  </body>
</html>
