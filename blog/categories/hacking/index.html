<!DOCTYPE html>
<html lang="en">
  <head><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta property="og:url" content="http://localhost:1313/blog/categories/hacking/">
  <meta property="og:site_name" content="Bill Farmer">
  <meta property="og:title" content="Hacking">
  <meta property="og:description" content="Random thoughts on random subjects">
  <meta property="og:locale" content="en_gb">
  <meta property="og:type" content="website">


  <meta itemprop="name" content="Hacking">
  <meta itemprop="description" content="Random thoughts on random subjects">
  <meta itemprop="datePublished" content="2024-02-06T08:37:04+00:00">
  <meta itemprop="dateModified" content="2024-02-06T08:37:04+00:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Hacking">
  <meta name="twitter:description" content="Random thoughts on random subjects">






<meta name="generator" content="Hugo 0.141.0">


    <base href="http://localhost:1313/blog/">
    <link rel="canonical" href="http://localhost:1313/blog/categories/hacking/">
    <title>Bill Farmer</title>

    <!-- CSS -->
    <link href="http://localhost:1313/blog/css/app.css" rel="stylesheet">
    
    <!-- RSS 2.0 feed -->
      <link rel="alternate" type="application/rss+xml" href="http://localhost:1313/blog/categories/hacking/index.xml" title="Bill Farmer" />
    

    

<style>
.callout.large {
    background-image: url(http://localhost:1313/blog/images/2013/12/cropped-P1010089.jpg);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}
.callout.large a, .callout.large p {
    color: white;
}
pre {
    margin-top: 16px;
    margin-bottom: 16px;
}
code {
    padding: 0;
    border: 0;
    background-color: #fff;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    font-weight: normal;
    color: #0a0a0a;
}
table {
    width: auto !important;
}
</style>




  </head>
  <body>

    <header class="nav">
      <div class="top-bar">
        <div class="row column">
          <div class="top-bar-left">
            <ul class="menu">
              <li class=""><a href="http://localhost:1313/blog/">
                Home
              </a></li>
              
                
                  <li><a href="http://localhost:1313/blog/morris/">
                    Morris
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/">
                    Categories
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/travel/">
                    Travel
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/hacking/">
                    Hacking
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/recipes/">
                    Recipes
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/diy/">
                    DIY
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/electronics/">
                    Electronics
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/index/">
                    Index
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/morris-o-meter/">
                    Morris-o-meter
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/about/">
                    About
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/test-o-meter/">
                    Test-o-meter
                  </a></li>
                
              
            </ul>
          </div>
        </div>
      </div>
    </header>

    <header class="blog-header">
      <div class="callout large">
        <div class="row column text-center">
          <h1>
            <a href="http://localhost:1313/blog/" rel="home">Bill Farmer</a>
          </h1>
          
            <p>
              Random thoughts on random subjects
            </p>
          
        </div>
      </div>
    </header>

    <main>
      <div class="row" id="content">
        <div class="medium-8 columns">
          







  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/flutter-search-widget/">Flutter app bar search widget</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2024-02-06T08:37:04Z">
        Tue Feb 6, 2024
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>As an exercise I decided to reimplement my <a href="https://github.com/billthefarmer/buses">Buses</a> app in
flutter. To do this I need an open street map library, a beautiful
soup library, a location library, an OS ref library, and a search
widget. All of these are available in <a href="https://pub.dev/">pub.dev</a>, except a suitable
search widget. All implementations of <a href="https://api.flutter.dev/flutter/material/SearchBar-class.html">SearchBar</a> in the docs include an
annoying dropdown suggestions feature, which appears to be mandatory.</p>
<p><img src="images/2024/02/BusApp.png" alt="BusApp"></p>
<p>However it is possible to take the SearchBar and include it in an
<a href="https://api.flutter.dev/flutter/material/AppBar-class.html">AppBar</a>, change the icons and end up with something which looks
and acts very similarly to an android search widget. To do this, add
code to the actions of the app bar which either shows an icon button
or the search bar, controlled by a boolean which is set by pressing
the search button. The search bar is wrapped by an <a href="https://api.flutter.dev/flutter/widgets/Expanded-class.html">Expanded</a>
widget to stop it overflowing the display. The search bar has a
leading button which dismisses it, a conditional trailing button to
clear the search field and a button to do the search.</p>
  </p>
  <a href='http://localhost:1313/blog/flutter-search-widget/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/android-navigation-menu/">Android Navigation Menu</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2023-09-06T13:46:00&#43;01:00">
        Wed Sep 6, 2023
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Android versions from android 5 use a <a href="https://developer.android.com/reference/android/widget/Toolbar?hl=en">Toolbar</a> as the
<a href="https://developer.android.com/reference/android/app/ActionBar?hl=en">ActionBar</a>, but there appears to be no obvious API access.</p>
<p>However, by traversing the view hierarchy, it can be found and used to
set up app navigation.</p>
<p><img src="images/2023/09/Navigation.png" alt="Navigation"></p>
<p>Create a recursive function to traverse the views and find the toolbar.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// findToolbar</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span>Toolbar<span style="color:#bbb"> </span><span style="color:#00a000">findToolbar</span>(ViewGroup<span style="color:#bbb"> </span>group)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>View<span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>group.<span style="color:#b44">getChildCount</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#666">&lt;</span><span style="color:#bbb"> </span>count;<span style="color:#bbb"> </span>i<span style="color:#666">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>View<span style="color:#bbb"> </span>view<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>group.<span style="color:#b44">getChildAt</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(view<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">instanceof</span><span style="color:#bbb"> </span>Toolbar)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span>(Toolbar)<span style="color:#bbb"> </span>view;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(view<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">instanceof</span><span style="color:#bbb"> </span>ViewGroup)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>findToolbar((ViewGroup)<span style="color:#bbb"> </span>view);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(result<span style="color:#bbb"> </span><span style="color:#666">!=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#a2f;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span>(Toolbar)<span style="color:#bbb"> </span>result;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>Having written this hack, I then discovered a more efficient way using
built in functionality.</p>
  </p>
  <a href='http://localhost:1313/blog/android-navigation-menu/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/update-widget/">Update App Widget</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2023-07-29T19:33:44&#43;01:00">
        Sat Jul 29, 2023
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Android app widgets normally can be set up to update periodically, but
not repeatedly for a short period. For a <a href="https://github.com/billthefarmer/buses">bus times app</a> I need the
widget to update every 30 seconds for about 5 minutes.</p>
<p>I already had a <a href="https://developer.android.com/reference/android/app/Service">Service</a> set up to update the widget from a
suitable web site and using a <a href="https://developer.android.com/reference/android/os/Handler">Handler</a> to reset the progress bar
if the background update process failed.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>RESET_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>5<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>REPEAT_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>30<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>STOP_DELAY<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>5<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>60<span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span>1000;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span>Handler<span style="color:#bbb"> </span>handler;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">boolean</span><span style="color:#bbb"> </span>stopUpdate;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// onCreate</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#00a000">onCreate</span>()<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#080;font-style:italic">// Get handler</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>handler<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Handler(Looper.<span style="color:#b44">getMainLooper</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(BuildConfig.<span style="color:#b44">DEBUG</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Log.<span style="color:#b44">d</span>(TAG,<span style="color:#bbb"> </span><span style="color:#b44">&#34;onCreate &#34;</span><span style="color:#bbb"> </span><span style="color:#666">+</span><span style="color:#bbb"> </span>handler);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>Define the various delays and get a handler in the <code>onCreate()</code> method.</p>
  </p>
  <a href='http://localhost:1313/blog/update-widget/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/create-word-grid/">Create a Word Grid</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2022-06-11T10:55:18&#43;01:00">
        Sat Jun 11, 2022
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>A <a href="https://wafflegame.net/">popular online puzzle game</a> involves solving a five character
word grid in the least number of moves. There are probably several
ways of algorithmically generating word grids, <a href="https://en.wikipedia.org/wiki/Dancing_Links">Donald Knuth&rsquo;s Dancing
Links</a> paper mentions generating a word grid. I decided to use
brute force and a randomised word list.</p>
<p>This uses a large number of lists and iterators and can generate a
large number of word grids. This algorithm is used in my <a href="https://github.com/billthefarmer/gridle">Gridle</a>
<a href="https://f-droid.org/packages/org.billthefarmer.gridle/">android app</a>.</p>
  </p>
  <a href='http://localhost:1313/blog/create-word-grid/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/read-paywalled-articles/">Read Paywalled Newspaper Articles</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2021-12-18T13:55:26Z">
        Sat Dec 18, 2021
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>Most mainstream newspapers show a teaser front page on their web site,
but hide most of their content behind a paywall. As with most things
you can think of, there is a browser extension for this –
<a href="https://github.com/iamadamdev/bypass-paywalls-chrome/blob/master/README.md">Bypass Paywalls</a>.</p>
<p>However this does not work for all newspapers, the extension appears
to have dropped support for <a href="https://www.thetimes.co.uk/">The Times</a>, for example. It is still
possible to read some articles by making use of a search engine to
find another source for the text of the item. To do this:</p>
  </p>
  <a href='http://localhost:1313/blog/read-paywalled-articles/'>Read more →</a>
  <hr>
</div>




  <div>
    
    
    
      <a class="button disabled" href="#" aria-disabled="true">Previous page</a>
      <a class="button" href="/blog/categories/hacking/page/2/">Next page</a>
    
    <hr>
  </div>



        </div>
          <div class="medium-3 columns" data-sticky-container>
  <div class="sticky" data-sticky data-anchor="content">

  

  

  <h4>Recent Posts</h4>
  <ul>
    
      <li><a href="/blog/beach-villas/">
        Beach Villas
      </a></li>
    
      <li><a href="/blog/flutter-search-widget/">
        Flutter app bar search widget
      </a></li>
    
      <li><a href="/blog/android-navigation-menu/">
        Android Navigation Menu
      </a></li>
    
      <li><a href="/blog/update-widget/">
        Update App Widget
      </a></li>
    
      <li><a href="/blog/turkey-cabbage-wraps/">
        Turkey Cabbage Wraps
      </a></li>
    
      <li><a href="/blog/create-word-grid/">
        Create a Word Grid
      </a></li>
    
      <li><a href="/blog/read-paywalled-articles/">
        Read Paywalled Newspaper Articles
      </a></li>
    
      <li><a href="/blog/risotto-milanese/">
        Risotto Milanese
      </a></li>
    
      <li><a href="/blog/android-flutter/">
        Android Flutter
      </a></li>
    
      <li><a href="/blog/android-kotlin/">
        Android Kotlin
      </a></li>
    
  </ul>

  
    <h4>Links</h4>
    <ul>
      
        <li><a href="https://github.com/billthefarmer">
          Github
        </a></li>
      
        <li><a href="https://gitlab.com/williamjfarmer">
          Gitlab
        </a></li>
      
        <li><a href="http://billthefarmer.github.io">
          Home
        </a></li>
      
    </ul>
  

  </div>
</div>

      </div>
    </main>

    <footer class="blog-footer">
      <div class="row column">
        <p>
          
          Copyright © 2025 Bill Farmer
          
        </p>
        <p>
          <a href="http://localhost:1313/blog/categories/hacking/#">Back to top</a>
        </p>
      </div>
    </footer>

  <foot>

    <script src="http://localhost:1313/blog/js/app.js"></script>

  </foot>
  </body>
</html>
