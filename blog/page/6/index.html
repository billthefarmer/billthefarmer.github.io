<!DOCTYPE html>
<html lang="en">
  <head><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta property="og:url" content="http://localhost:1313/blog/">
  <meta property="og:site_name" content="Bill Farmer">
  <meta property="og:title" content="Bill Farmer">
  <meta property="og:description" content="Random thoughts on random subjects">
  <meta property="og:locale" content="en_gb">
  <meta property="og:type" content="website">


  <meta itemprop="name" content="Bill Farmer">
  <meta itemprop="description" content="Random thoughts on random subjects">
  <meta itemprop="datePublished" content="2025-01-21T20:05:23+00:00">
  <meta itemprop="dateModified" content="2025-01-21T20:05:23+00:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Bill Farmer">
  <meta name="twitter:description" content="Random thoughts on random subjects">






<meta name="generator" content="Hugo 0.141.0">


    <base href="http://localhost:1313/blog/">
    <link rel="canonical" href="http://localhost:1313/blog/">
    <title>Bill Farmer</title>

    <!-- CSS -->
    <link href="http://localhost:1313/blog/css/app.css" rel="stylesheet">
    
    <!-- RSS 2.0 feed -->
      <link rel="alternate" type="application/rss+xml" href="http://localhost:1313/blog/index.xml" title="Bill Farmer" />
    

    

<style>
.callout.large {
    background-image: url(http://localhost:1313/blog/images/2013/12/cropped-P1010089.jpg);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}
.callout.large a, .callout.large p {
    color: white;
}
pre {
    margin-top: 16px;
    margin-bottom: 16px;
}
code {
    padding: 0;
    border: 0;
    background-color: #fff;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    font-weight: normal;
    color: #0a0a0a;
}
table {
    width: auto !important;
}
</style>




  </head>
  <body>

    <header class="nav">
      <div class="top-bar">
        <div class="row column">
          <div class="top-bar-left">
            <ul class="menu">
              <li class="active"><a href="http://localhost:1313/blog/">
                Home
              </a></li>
              
                
                  <li><a href="http://localhost:1313/blog/morris/">
                    Morris
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/">
                    Categories
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/travel/">
                    Travel
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/hacking/">
                    Hacking
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/recipes/">
                    Recipes
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/diy/">
                    DIY
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/categories/electronics/">
                    Electronics
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/index/">
                    Index
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/morris-o-meter/">
                    Morris-o-meter
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/about/">
                    About
                  </a></li>
                
                  <li><a href="http://localhost:1313/blog/test-o-meter/">
                    Test-o-meter
                  </a></li>
                
              
            </ul>
          </div>
        </div>
      </div>
    </header>

    <header class="blog-header">
      <div class="callout large">
        <div class="row column text-center">
          <h1>
            <a href="http://localhost:1313/blog/" rel="home">Bill Farmer</a>
          </h1>
          
            <p>
              Random thoughts on random subjects
            </p>
          
        </div>
      </div>
    </header>

    <main>
      <div class="row" id="content">
        <div class="medium-8 columns">
          




  




  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/post/mushrooms-and-soy-sauce/">Mushrooms and Soy Sauce</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2019-04-14T16:43:13&#43;01:00">
        Sun Apr 14, 2019
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/recipes">
        Recipes
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>When I was working for the electric light company in Hove, many years
ago, the canteen ladies frequently served up, as part of a buffet,
sliced raw mushrooms in soy sauce. Tasty side dish with a salad or
buffet.</p>
<h3 id="ingredients">Ingredients</h3>
<ul>
<li>Thinly sliced mushrooms</li>
<li>Dark soy sauce</li>
</ul>
<h3 id="method">Method</h3>
<ol>
<li>Thinly slice the mushrooms into a bowl</li>
<li>Sprinkle over the soy sauce</li>
<li>Leave for a while for the sauce to soak into and soften the
mushrooms</li>
</ol>
<p>I have not seen this elsewhere or online, so I assume that the canteen
ladies came up with the idea themselves.</p>
  </p>
  <a href='http://localhost:1313/blog/post/mushrooms-and-soy-sauce/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/post/source-code-highlighting/">Source Code Syntax Highlighting</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2019-03-24T11:01:35Z">
        Sun Mar 24, 2019
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>One of the enhancements suggested for my android <a href="https://github.com/billthefarmer/editor" title="https://github.com/billthefarmer/editor">editor</a> is syntax
highlighting. The libraries I have found, including the <a href="https://github.com/alecthomas/chroma" title="https://github.com/alecthomas/chroma">one</a> used
in this blog, parse the input and produce output in HTML, using styled
spans. <a href="https://www.gnu.org/software/emacs" title="https://www.gnu.org/software/emacs">Emacs</a> makes extensive use of <a href="https://en.wikipedia.org/wiki/Regular_expression" title="https://en.wikipedia.org/wiki/Regular_expression">regular expressions</a> for
highlighting.</p>
<p>HTML output is not very useful for a text editor. It could be used
with <a href="https://developer.android.com/reference/android/text/Html.html#fromHtml(java.lang.String)" title="https://developer.android.com/reference/android/text/Html.html">Html.fromHtml()</a> to produce styled text. This would then be
loaded back into the editor all while the user is attempting to edit
the text. I don&rsquo;t think so. So I explored alternatives.</p>
  </p>
  <a href='http://localhost:1313/blog/post/source-code-highlighting/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/post/musical-temperaments/">Musical Temperaments</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2019-01-29T20:58:13Z">
        Tue Jan 29, 2019
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>My <a href="https://github.com/billthefarmer/tuner">Tuner app</a> uses equal temperament because that is the current
standard and it is relatively easy to calculate using double precision
arithmetic and maths library functions. First, declare some constants.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>OCTAVE<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>12;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>EQUAL<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>8;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>A_OFFSET<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>9;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>C5_OFFSET<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>57;<span style="color:#bbb">
</span></span></span></code></pre></div><p>The calculation first produces the cents relative to the reference,
usually 440Hz. Then the note number with an added constant because
octaves start at <strong>C</strong>, not <strong>A</strong>. Then the reference frequency for
that note, then the cents difference.</p>
  </p>
  <a href='http://localhost:1313/blog/post/musical-temperaments/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/post/draw-musical-staff/">Draw Musical Staff</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2019-01-13T18:35:26Z">
        Sun Jan 13, 2019
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>A musical staff is not a trivial thing to draw because of the complex
curves needed for the treble and bass clef. What is needed is a source
of vector drawing coordinates.</p>
<p>The data used was originally intended for use in postscript, so the
vertical axis is reversed.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// Treble clef</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">float</span><span style="color:#bbb"> </span>tc<span style="color:#666">[][]=</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>6,<span style="color:#bbb"> </span>16},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>8,<span style="color:#bbb"> </span>13},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>14,<span style="color:#bbb"> </span>19},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>10,<span style="color:#bbb"> </span>35},<span style="color:#bbb">  </span>{2,<span style="color:#bbb"> </span>35},<span style="color:#bbb">  </span>{8,<span style="color:#bbb"> </span>37},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{21,<span style="color:#bbb"> </span>30},<span style="color:#bbb">  </span>{21,<span style="color:#bbb"> </span>17},<span style="color:#bbb">  </span>{21,<span style="color:#bbb"> </span>5},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span><span style="color:#666">-</span>1},<span style="color:#bbb">  </span>{0,<span style="color:#bbb"> </span><span style="color:#666">-</span>1},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>12,<span style="color:#bbb"> </span><span style="color:#666">-</span>1},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>23,<span style="color:#bbb"> </span>5},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>23,<span style="color:#bbb"> </span>22},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>23,<span style="color:#bbb"> </span>29},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>22,<span style="color:#bbb"> </span>37},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>7,<span style="color:#bbb"> </span>49},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span>61},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{10,<span style="color:#bbb"> </span>68},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span>73},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span>78},<span style="color:#bbb">  </span>{9,<span style="color:#bbb"> </span>82},<span style="color:#bbb">  </span>{7,<span style="color:#bbb"> </span>82},<span style="color:#bbb">  </span>{2,<span style="color:#bbb"> </span>78},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>2,<span style="color:#bbb"> </span>68},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>2,<span style="color:#bbb"> </span>62},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>2,<span style="color:#bbb"> </span>25},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span>18},<span style="color:#bbb">  </span>{11,<span style="color:#bbb"> </span><span style="color:#666">-</span>8},<span style="color:#bbb">  </span>{11,<span style="color:#bbb"> </span><span style="color:#666">-</span>18},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{5,<span style="color:#bbb"> </span><span style="color:#666">-</span>23},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>4,<span style="color:#bbb"> </span><span style="color:#666">-</span>23},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>10,<span style="color:#bbb"> </span><span style="color:#666">-</span>23},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span><span style="color:#666">-</span>18},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span><span style="color:#666">-</span>13},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span><span style="color:#666">-</span>8},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>12,<span style="color:#bbb"> </span><span style="color:#666">-</span>4},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>7,<span style="color:#bbb"> </span><span style="color:#666">-</span>4},<span style="color:#bbb">  </span>{3,<span style="color:#bbb"> </span><span style="color:#666">-</span>4},<span style="color:#bbb">  </span>{3,<span style="color:#bbb"> </span><span style="color:#666">-</span>20},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>6,<span style="color:#bbb"> </span><span style="color:#666">-</span>17},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span><span style="color:#666">-</span>23},<span style="color:#bbb">  </span>{9,<span style="color:#bbb"> </span><span style="color:#666">-</span>20},<span style="color:#bbb">  </span>{9,<span style="color:#bbb"> </span><span style="color:#666">-</span>9},<span style="color:#bbb">  </span>{7,<span style="color:#bbb"> </span>24},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span>30},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span>67},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span>78},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>2,<span style="color:#bbb"> </span>87},<span style="color:#bbb">  </span>{7,<span style="color:#bbb"> </span>91},<span style="color:#bbb">  </span>{13,<span style="color:#bbb"> </span>87},<span style="color:#bbb">  </span>{18,<span style="color:#bbb"> </span>80},<span style="color:#bbb">  </span>{17,<span style="color:#bbb"> </span>73},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{17,<span style="color:#bbb"> </span>62},<span style="color:#bbb">  </span>{10,<span style="color:#bbb"> </span>54},<span style="color:#bbb">  </span>{1,<span style="color:#bbb"> </span>45},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span>38},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span>33},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span>19},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>15,<span style="color:#bbb"> </span>7},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>8,<span style="color:#bbb"> </span>1},<span style="color:#bbb">  </span>{0,<span style="color:#bbb"> </span>1},<span style="color:#bbb">  </span>{8,<span style="color:#bbb"> </span>1},<span style="color:#bbb">  </span>{15,<span style="color:#bbb"> </span>6},<span style="color:#bbb">  </span>{15,<span style="color:#bbb"> </span>14},<span style="color:#bbb">  </span>{15,<span style="color:#bbb"> </span>23},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{7,<span style="color:#bbb"> </span>26},<span style="color:#bbb">  </span>{2,<span style="color:#bbb"> </span>26},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>5,<span style="color:#bbb"> </span>26},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>9,<span style="color:#bbb"> </span>21},<span style="color:#bbb">  </span>{<span style="color:#666">-</span>6,<span style="color:#bbb"> </span>16}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">// Bass clef</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">float</span><span style="color:#bbb"> </span>bc<span style="color:#666">[][]</span><span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#666">-</span>2.<span style="color:#b44">3f</span>,3},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{6,7},<span style="color:#bbb"> </span>{10.<span style="color:#b44">5f</span>,12},<span style="color:#bbb"> </span>{10.<span style="color:#b44">5f</span>,16},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{10.<span style="color:#b44">5f</span>,20.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{8.<span style="color:#b44">5f</span>,23.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{6.<span style="color:#b44">2f</span>,23.<span style="color:#b44">3f</span>},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{5.<span style="color:#b44">2f</span>,23.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{2,23.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{0.<span style="color:#b44">5f</span>,19.<span style="color:#b44">5f</span>},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{2,20},<span style="color:#bbb"> </span>{4,19.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{4,18},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{4,17},<span style="color:#bbb"> </span>{3.<span style="color:#b44">5f</span>,16},<span style="color:#bbb"> </span>{2,16},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{1,16},<span style="color:#bbb"> </span>{0,16.<span style="color:#b44">9f</span>},<span style="color:#bbb"> </span>{0,18.<span style="color:#b44">5f</span>},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{0,21},<span style="color:#bbb"> </span>{2.<span style="color:#b44">1f</span>,24},<span style="color:#bbb"> </span>{6,24},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{10,24},<span style="color:#bbb"> </span>{13.<span style="color:#b44">5f</span>,21.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{13.<span style="color:#b44">5f</span>,16.<span style="color:#b44">5f</span>},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{13.<span style="color:#b44">5f</span>,11},<span style="color:#bbb"> </span>{7,5.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{<span style="color:#666">-</span>2.<span style="color:#b44">0f</span>,2.<span style="color:#b44">8f</span>},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{14.<span style="color:#b44">9f</span>,21},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{14.<span style="color:#b44">9f</span>,22.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{16.<span style="color:#b44">9f</span>,22.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{16.<span style="color:#b44">9f</span>,21},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{16.<span style="color:#b44">9f</span>,19.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{14.<span style="color:#b44">9f</span>,19.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{14.<span style="color:#b44">9f</span>,21},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{14.<span style="color:#b44">9f</span>,15},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{14.<span style="color:#b44">9f</span>,16.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{16.<span style="color:#b44">9f</span>,16.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{16.<span style="color:#b44">9f</span>,15},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{16.<span style="color:#b44">9f</span>,13.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{14.<span style="color:#b44">9f</span>,13.<span style="color:#b44">5f</span>},<span style="color:#bbb"> </span>{14.<span style="color:#b44">9f</span>,15}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>};<span style="color:#bbb">
</span></span></span></code></pre></div><p>Both these sets of points are made up of an initial move, followed by
a series of cubic bezier curves. The bass clef has three sections, the
symbol, followed by the two dots.</p>
  </p>
  <a href='http://localhost:1313/blog/post/draw-musical-staff/'>Read more →</a>
  <hr>
</div>


  

<div class="blog-post">
  <h3>
    <a href="http://localhost:1313/blog/post/expand-android-selection/">Expand Android Selection</a>
  </h3>
  <div class="callout small">
    <small>
      <time datetime="2018-12-09T12:21:39Z">
        Sun Dec 9, 2018
      </time> by Bill Farmer.
      Categories: 
  
    
      <a href="/categories/hacking">
        Hacking
      </a>
  

.
      
    </small>
  </div>
  <p>
    <p>When editing data or source files it would be useful to have
selections triggered by a double tap or long press expand to enclosing
delimiters or brackets.</p>
<p>There is a section in the <a href="https://developer.android.com/guide/topics/ui/menus#context-menu">Android docs</a> which explains how to set
up your own context menu or contextual action mode, but not how to
change the selection.</p>
<p>This method is fine if you have only one text editor view in your app,
but would be difficult with more than one as there is no way to
identify the originating view. In Java a regular expression (regex)
can only search forwards, but not backwards, so we search forwards
using a regex, work out what to look for backwards, and use a standard
string reverse search to find the start of the extended selection. The
regex contains bracket characters and quote characters. If the forward
search finds an opening bracket, we don&rsquo;t change the selection. If the
extended selection contains a newline we don&rsquo;t change the selection
because we have probably got a closing quote on one line and an
opening quote on another. If the delimiter is a semicolon we look back
for a newline.</p>
  </p>
  <a href='http://localhost:1313/blog/post/expand-android-selection/'>Read more →</a>
  <hr>
</div>




  <div>
    
      <a class="button" href="/blog/page/5/">Previous page</a>
      <a class="button" href="/blog/page/7/">Next page</a>
    
    
    
    <hr>
  </div>



        </div>
          <div class="medium-3 columns" data-sticky-container>
  <div class="sticky" data-sticky data-anchor="content">

  

  

  <h4>Recent Posts</h4>
  <ul>
    
      <li><a href="/blog/beach-villas/">
        Beach Villas
      </a></li>
    
      <li><a href="/blog/flutter-search-widget/">
        Flutter app bar search widget
      </a></li>
    
      <li><a href="/blog/android-navigation-menu/">
        Android Navigation Menu
      </a></li>
    
      <li><a href="/blog/update-widget/">
        Update App Widget
      </a></li>
    
      <li><a href="/blog/turkey-cabbage-wraps/">
        Turkey Cabbage Wraps
      </a></li>
    
      <li><a href="/blog/create-word-grid/">
        Create a Word Grid
      </a></li>
    
      <li><a href="/blog/read-paywalled-articles/">
        Read Paywalled Newspaper Articles
      </a></li>
    
      <li><a href="/blog/risotto-milanese/">
        Risotto Milanese
      </a></li>
    
      <li><a href="/blog/android-flutter/">
        Android Flutter
      </a></li>
    
      <li><a href="/blog/android-kotlin/">
        Android Kotlin
      </a></li>
    
  </ul>

  
    <h4>Links</h4>
    <ul>
      
        <li><a href="https://github.com/billthefarmer">
          Github
        </a></li>
      
        <li><a href="https://gitlab.com/williamjfarmer">
          Gitlab
        </a></li>
      
        <li><a href="http://billthefarmer.github.io">
          Home
        </a></li>
      
    </ul>
  

  </div>
</div>

      </div>
    </main>

    <footer class="blog-footer">
      <div class="row column">
        <p>
          
          Copyright © 2025 Bill Farmer
          
        </p>
        <p>
          <a href="http://localhost:1313/blog/#">Back to top</a>
        </p>
      </div>
    </footer>

  <foot>

    <script src="http://localhost:1313/blog/js/app.js"></script>

  </foot>
  </body>
</html>
