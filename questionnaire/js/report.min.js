var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var p=0;return function(){return p<k.length?{done:!1,value:k[p++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var p="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return p?p.call(k):$jscomp.arrayIterator(k)};
jQuery(document).ready(function(k){function p(){var c=a.output("bloburi");k("#preview").attr("src",c)}function m(c){var e=window.location.search.substring(1).split("&");e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())if(f=f.value.split("="),f[0]==c)return f[1]}function H(c,e,f){c.size&&e.setFontSize(c.size);c.type&&e.setFont("helvetica",c.type);c.color&&e.setTextColor(c.color);f=c.y?c.y:f;c=c.text;c.match(/~[a-z]+~/)&&(c=c.replace(/~forename~/g,B).replace(/~lastname~/g,C));return g(c,
e,72,f,451)}function I(c,e,f,D){var l=c.y,n=c.x,y=c.width;N(c.src,c.type,e,f,n?0>n?-523:n:72,l?0>l?-770:l:72,y?y:451,c.height,c.link,D)}function g(c,e,f,D,l){c=e.splitTextToSize(c,l);e.text(c,f,D);return D+c.length*e.getLineHeight()}function N(c,e,f,D,l,n,y,E,J,K){L++;var M=new Image;M.src=baseURL+c;M.addEventListener("load",function(v){var z=v.currentTarget;v=document.createElement("canvas");v.width=z.width;v.height=z.height;v.getContext("2d").drawImage(z,0,0);v=v.toDataURL("image/"+e);var O=z.width;
z=z.height;E=E?E:y*z/O;l=0>l?-l-y:l;n=0>n?-n-E:n;f.setPage(D);f.addImage(v,e,l,n,y,E);J&&f.link(l,n,y,E,{url:J});0==--L&&K&&K()})}var q=window.jspdf.jsPDF;m("A");var r=m("B"),t=m("C"),u=m("D"),A=m("E"),w=m("F");m("S");var B=m("forename"),C=m("lastname");m("email");void 0==B&&(B="Cat");void 0==C&&(C="LeBlanc");B=B.replace("+"," ");C=C.replace("+"," ");var d=B+" "+C,b=data.pages,h=data.answers,F=data.last;k("#update, #report").button();k("#name").html(d);var a=q({unit:"pt",compress:!0});q=1;var L=0;
b=$jscomp.makeIterator(b);for(d=b.next();!d.done;d=b.next()){var x=d.value;q=x.pageno;1!=q&&a.addPage();var G=$jscomp.makeIterator(x.images);for(d=G.next();!d.done;d=G.next())I(d.value,a,q,p);G=72;x=$jscomp.makeIterator(x.text);for(d=x.next();!d.done;d=x.next())G=H(d.value,a,G)}a.addPage();b=72;q++;r&&(d=h.B.desc,x=h.B[r].type,r=h.B[r].text,a.setFont("helvetica","bold"),b=g(x,a,72,b,451)+a.getLineHeight(),a.setFont("helvetica","normal"),b=g(d,a,72,b,451)+a.getLineHeight(),b=g(r,a,72,b,451)+a.getLineHeight());
t&&(r=h.C.desc,d=h.C[t].type,t=h.C[t].text,a.setFont("helvetica","bold"),b=g(d,a,72,b,451)+a.getLineHeight(),a.setFont("helvetica","normal"),b=g(r,a,72,b,451)+a.getLineHeight(),b=g(t,a,72,b,451)+a.getLineHeight());u&&(t=h.D.desc,r=h.D[u].type,u=h.D[u].text,a.setFont("helvetica","bold"),b=g(r,a,72,b,451)+a.getLineHeight(),a.setFont("helvetica","normal"),b=g(t,a,72,b,451)+a.getLineHeight(),b=g(u,a,72,b,451)+a.getLineHeight());a.addPage();b=72;q++;A&&(u=h.E.desc,t=h.E[A].type,A=h.E[A].text,a.setFont("helvetica",
"bold"),b=g(t,a,72,b,451)+a.getLineHeight(),a.setFont("helvetica","normal"),b=g(u,a,72,b,451)+a.getLineHeight(),b=g(A,a,72,b,451)+a.getLineHeight());w&&(A=h.F.desc,u=h.F[w].type,w=h.F[w].text,a.setFont("helvetica","bold"),b=g(u,a,72,b,451)+a.getLineHeight(),a.setFont("helvetica","normal"),b=g(A,a,72,b,451)+a.getLineHeight(),b=g(w,a,72,b,451)+a.getLineHeight());a.addPage();b=72;q++;w=$jscomp.makeIterator(F.images);for(d=w.next();!d.done;d=w.next())I(d.value,a,q,p);F=$jscomp.makeIterator(F.text);for(d=
F.next();!d.done;d=F.next())b=H(d.value,a,b);k("#update").click(p);k("#report").click(function(){a.save("report.pdf")})});
