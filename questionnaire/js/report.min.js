var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var n=0;return function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var n="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return n?n.call(k):$jscomp.arrayIterator(k)};
jQuery(document).ready(function(k){function n(){var a=e.output("bloburi");k("#preview").attr("src",a)}function p(a){var d=window.location.search.substring(1).split("&");d=$jscomp.makeIterator(d);for(var c=d.next();!c.done;c=d.next())if(c=c.value.split("="),c[0]==a)return c[1]}function z(a,d,c){var l=a.desc,g=a[d].type,h=a[d].text;H(a[d].image,"png",e,m,36,c,523);c=E(l,e,36,c+92,523)+e.getLineHeight();e.setFont("helvetica","bold");c=E(g,e,36,c,523)+e.getLineHeight();e.setFont("helvetica","normal");
return E(h,e,36,c,523)}function F(a,d,c){a.size&&d.setFontSize(a.size);a.type&&d.setFont("helvetica",a.type);a.color&&(Array.isArray(a.color)?d.setTextColor(a.color[0],a.color[1],a.color[2]):d.setTextColor(a.color));c=a.y?a.y:c;width=a.width?a.width:523;var l=a.text;l.match(/~[a-z]+~/)&&(l=l.replace(/~forename~/g,w).replace(/~lastname~/g,x));return E(l,d,36,c,width,a.link)}function G(a,d,c,l){var g=a.y,h=a.x,u=a.width;H(a.src,a.type,d,c,h?0>h?-559:h:36,g?0>g?-806:g:36,u?u:523,a.height,a.link,l)}function E(a,
d,c,l,g,h){g=d.splitTextToSize(a,g);h?d.textWithLink(a,c,l,{url:h}):d.text(g,c,l);return l+g.length*d.getLineHeight()}function H(a,d,c,l,g,h,u,y,I,J){K++;var L=new Image;L.src=baseURL+a;L.addEventListener("load",function(q){var v=q.currentTarget;q=document.createElement("canvas");q.width=v.width;q.height=v.height;q.getContext("2d").drawImage(v,0,0);q=q.toDataURL("image/"+d);var P=v.width;v=v.height;y=y?y:u*v/P;g=0>g?-g-u:g;h=0>h?-h-y:h;c.setPage(l);c.addImage(q,d,g,h,u,y);I&&c.link(g,h,u,y,{url:I});
0==--K&&J&&J()})}var f=window.jspdf.jsPDF;p("A");var A=p("B"),M=p("C"),Q=p("D"),N=p("E"),O=p("F");p("S");var w=p("forename"),x=p("lastname");p("email");void 0==w&&(w="Cat");void 0==x&&(x="LeBlanc");w=w.replace("+"," ");x=x.replace("+"," ");var b=w+" "+x,r=data.pages,B=data.answers,t=data.penult,C=data.last;k("#update, #report").button();k("#name").html(b);var e=f({unit:"pt",compress:!0}),m=1,K=0;f=$jscomp.makeIterator(r);for(b=f.next();!b.done;b=f.next()){r=b.value;m=r.pageno;1!=m&&e.addPage();var D=
$jscomp.makeIterator(r.images);for(b=D.next();!b.done;b=D.next())G(b.value,e,m,n);D=36;r=$jscomp.makeIterator(r.text);for(b=r.next();!b.done;b=r.next())D=F(b.value,e,D)}e.addPage();f=36;m++;A&&(f=z(B.B,A,f));M&&(f=z(B.C,M,f));e.addPage();m++;f=z(B.D,Q,36);N&&(f=z(B.E,N,f));e.addPage();f=36;m++;O&&(f=z(B.F,O,f));e.addPage();f=36;m++;A=$jscomp.makeIterator(t.images);for(b=A.next();!b.done;b=A.next())G(b.value,e,m,n);t=$jscomp.makeIterator(t.text);for(b=t.next();!b.done;b=t.next())f=F(b.value,e,f);e.addPage();
f=36;m++;t=$jscomp.makeIterator(C.images);for(b=t.next();!b.done;b=t.next())G(b.value,e,m,n);C=$jscomp.makeIterator(C.text);for(b=C.next();!b.done;b=C.next())f=F(b.value,e,f);k("#update").click(n);k("#report").click(function(){e.save("report.pdf")})});
